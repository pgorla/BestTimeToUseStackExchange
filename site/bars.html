<!doctype html>

<html>

<head>

<meta charset="utf-8">
<script src="js/jquery.js"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/jquery-ui.min.js"></script>

<script src="js/d3.js"></script>

<!--
<script src="js/ajax-solr/lib/core/Core.js"></script>
<script src="js/ajax-solr/lib/core/AbstractManager.js"></script>
<script src="js/ajax-solr/lib/managers/Manager.jquery.js"></script>
-->

<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.css" />-->
<link href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css" rel="stylesheet" type="text/css"/>

<style>

.chart {
    padding: 10px;
    font-family: sans-serif;
    font-size:0.7em;
}

.bar {
    padding: 5px;
    color: white;
    background-color: #AB2259;
    margin-bottom: 20px;
    margin-left: 20em;
    line-height: 3em;
    text-align: right;
}

.label {
    width: 15em;
    float: left;
    text-align: right;
    height: 3em;
    line-height: 3em;
}


</style>

<script>

function draw(data) {
    "use strict";

    d3.select("body")
        .append("div")
            .attr("class", "chart")
        .selectAll("div.line")
        .data(data.response.docs)
        .enter()
        .append("div")
            .attr("class", "line");

    d3.selectAll("div.line")
        .append("div")
            .attr("class", "label")
            .text(function(d){return d.Score});

    d3.selectAll("div.line")
        .append("div")
            .attr("class", "bar")
            .style("width", function(d){return d.ViewCount/100 + "px"})
            .text(function(d){return Math.round(d.Score)});

        

}

</script>
 

</head>

<body>

<script>

d3.json("sample.json", draw);

</script>
 
</body>
</html>

